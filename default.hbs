<!DOCTYPE html>
<html lang="{{@site.locale}}" data-color-pref="{{@custom.color_mode}}" data-accent-color="{{@site.accent_color}}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{meta_title}}</title>

    {{!-- Preloads and preconnects --}}
    <link rel="preconnect" href="https://cdn.jsdelivr.net/">
    <link rel="preload" href="/assets/fonts/Archivo-Variable.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/Lora[wght].woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="{{asset 'built/css/index.css'}}">

    {{! Load scripts to execute before render }}
    <script>
        const colorModePref = document.documentElement.dataset.colorPref;

        const colorModePrefOpposite = colorModePref === 'dark' ? 'light' : 'dark'

        if (
            localStorage.getItem('pref') === colorModePrefOpposite ||
            (window.matchMedia(`(prefers-color-scheme: ${colorModePrefOpposite})`).matches &&
                !localStorage.getItem('pref'))
        ) {
            document.documentElement.setAttribute('data-color-pref', colorModePrefOpposite);
        }
    </script>
    
    {{!-- Scripts and styles for after load --}}
    <script src="{{asset 'built/js/index.js'}}" defer></script>
  
    {{#is "post"}}
    <script src="{{asset 'built/js/syntax/index.js'}}" defer></script>
    {{/is}}

    {{!-- Output SEO + Meta data and other settings by Ghost --}}
    {{ghost_head}}
   
    <link rel="stylesheet" href="{{asset '/assets/built/css/ghost/index.css'}}">

    
</head>

<body class="{{body_class}}">
    {{> "svg"}}

    {{> "navbar"}}

    {{{body}}}

    {{> "footer"}}

    {{!-- Ghost footer required, right before the closing body tag --}}
    {{ghost_foot}}
</body>

</html>